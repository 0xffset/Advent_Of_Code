//
// Created by u-0xffset on 03.12.20.
//

#include "2020_03.hpp"

#include <string>

static std::string in = "......#...........#...#.........#.....#...##.......#.....##.........#.#....#...............................#.#.......#...........#.#...##...#.#..#..#..#..#.......##...#..#...........#..........#.##.#...#.#.........#....#...##............##......#.#.......#.......##......##.##.#....#...#........#....#........##............###.#......#.....#..#........#....#..#..........#..#..##....#......#..#......#..........#......#......#..#..#....#...#....#..##.......#.#..........#.#......#..#....#.##.#..#......###.....#..#..........#...#................#.#...................#..#...#......##......##...#....#...#.#...#.##..#.......##...#....#.........###......#.#....#.........##...............#.#..#..#...........#........#..#.#....#....#...#...................##.....#.##............#.#....#..##......#.#.....##...#...#.##......#..........#.........#....#..#.....#.....#...##.#...##.#.##.........#..#........#.#.#.........#.....#.#.#.....#.........#...............#..#..##.....#.........#....#........#....##..##...........##..#.......##.................#.#...##.......#....#.#.#.....#..........#.#...#.................##.#...#.........##.....#.........#....#.###..#.....##.#....#....#..#....#...#....#.#.#................#...........#....#.....##...#.............#........#..........#.....#...#..#.........#.##.....##.....##.......#..........##...##.......#..#.#.....#..##.........#......#........##........#...#...###.#..#..........#..###......##..##............#..#......##..#.#.........#......#.......#........#...#.#.......#....#..#....#.....##...................#......#..........#.#.......#......#.#....#..#.#..##.........#.#.#..........#........##.....#..........................#..#........#...............##.#..#......###.......#.......#....#...#.#......#...#...#.......#.....##..#....#...#....#...#........#.........#..##..............##.........#.#...#......................#....#.##...#..#..#.........#....#..#..##.......................#..........###....#.......#.....###.##........#......#.......#.....#..#.....#...#.##...#......#....#.......#.....##.............#........#......##..#....#.......#...##....#..##......###....#..#.....###.#.............##...#.#.......#.....#.....#...#..#.#......#.#.....###......#.......#.............#.##......#.........#..##..#.......................#........#......#............#..#..#..#..#.#......#..#....#.......##......#.............#....#...........#..#..##.......#.........#.........#.#..#..........##...#.......#.#....#..#..#....#.#.#...........#.##.#.#..###..#..#...........#.........##................#.#..............#..#....#....##.#...........#..#.....#...#..#...#....#....#.........#....#...#..#......#........#.#.........#.......#.##.......#..##...#........#...........###...#..#...#...#.....#...#........###.#..#.......##.#..#...#....##.......####...##.#........#....#....#.#............#..#..#.#.#...#...................##.##......#...........#..........#..#..#....#.#...#......#.......##...#.....#...#........#.......#............#..............####........#..#....#...#......####..##......#.##...........#..........#......#..#.....#.........#..........#..#...........#.....#..#..#....#........#....#..#.................#####..##..#.....#...##..#..........#.##.....#..............#...####...........#.##..................#.#....#.#..#..#........#.....................#....#.#..#..............##.......#......#..#.#.#.....#.............##...#.......................#.......##.##.##.....#........#........#.#..#.....#..#.........#...##...###......#.#.............###.#.....#..#..........#......###.#.#.........##..##.............###.......#..#.#...##...#.......##...............###........#.....#.#.#.#....#..#..#......#...#...#...........#......##.......#.#..#...#.....#.........##..#..#.........##.#..##.##..##..............#.#.##....#..#..#......#..#.#....#....#.............#...##.#......#..#.####.#.##.#....##..##.#.#....##..................#.....##......#.......##.......#..#......#.#..#...##......##.....#....##....#.........#..##....###.....#....##...........#............#......#.#........#......#...#..#.#....######.#..#...###......#.#.#.........##.#.........#...#.........#...#...........#.............#.#.........#..##...#...#.......#......#.........#...#.#...#...#..#.........#......#.........................###..#..#....#...##.#........#.#.....##...#...#.....#...##......###..###....##.................##....#..#.....#.##.......#........#.........#...#..#.......#.#.........#..#.......#.#......#.#....##.....#..........#..#..#....#..#.#..#..#.........##...#....#..............#...............#.....#.##...##...###......#....##............#..#........#.#...........#..#....#....#..........#...#......#.....#..#...........#.....#..#......................#......##...#..#....#.........#..#....#..##...##..##...#..................#....#.....#.................#.........#......#..#..........#.#..........#..#.....#.....##...#..#.......#........#..........#.......##.##....#..##.#..........#...........#..#.#.##..............##........................#.......#.#.#......#....#....##...#....#.........#........#.......##.......#...#...#........##......##......#....#.#..........#..#.......#..............#..........#......#.#...#..#.#.#....#.....#..#........#.##.##.......##........#..........#..............#..##....#.#......###..##.#.#...##.........#.#.....#..#..#....#.#...#........#.....#..#.........................#..........###......#............#...#...#..##......#..##.........#...............#...#......#..#..#....#......#....#...........#....#.#.####.#.....##........#..##..#...#..#..#.......#.#..#......#..#..#....#.#.........##..#........#......#.#............#....#.............#.#.....#........#.#.........##...#.#.......#........#...#...........##...#...........#....#......#....##............#...........#...........#..#...#..........#......#........#......#....#.....#..#.#.........##.................#..#.#........#.#...........#......#...#........#.#.#.....#.#.#............#........#..#..#....#.##........#..........#....#..#..#.##...........#..#.#..##....#.......#.#....#..#......#........#.....#........##..#......###..#...#..................#....#......#...#..#.##.......#..............#...#.#.........................#............#..........#.....##....#.#..##..........#.....#..........#....#............#.#...#...##....#.....##.....#.#.......#.............#...#...##..............#......#....#......#...#................##..#.#...#.#..#.....................##.......#...........#.#.#..#......#.#.#........#.##...####.......#..#.#.........#.#.##..#..............#....#.........#............#.#..#....##......#.#.............#...##..#.......#.........#............#...#.##........#.........#.#.....#..#..........................#.#.##.#......#.#......#.........#.......#.......#.......#.....#.....#..#....#................#...#.........#.#..##......#.........#..#...##....##....##.........#.......#...#...###.............#.#..#........#.#.#............#.....#........##.........#.#...#..........#....#.#....###.....#.....#...#.#........#..#.##.....#.##......#..#.............#..##..#.#...................#.......#....#...#.#...#...#...........#..#.#....#.#.............#.#....#.#.##..###..........#..........#.#.............#..#............#.......#..............##.#............##...#..............#................#......................#..#...........#...#.......#...#.##.....#....#.##..##..#..........#............##.#.......#...#..#...#...#.......#..#...........#....#.##....#........#........#....#.............#...#.##.#..#.#..#.......#..#......#....#...##....#.#........#...##.#.....##.###.....#.#....#..#......#...#.#.....#..#............#....##...##.##...#...#.#....#...#.......##...##.#...........#.##..#....#.....#....#..#...#.........#.......#...#....#.....#............#.#..#.#.....#.#...#.#....##......###..#..#.#.#...#..#.............#...#...#..#....#........#...##........#.....#...##...........##.##.................#...##...#..............##........#.....#............#...#..#.......#.#.#.#.....#.........#...#......#.#.###..#......#..#..#...#.....#.....#.......#.........................#..#......#.#...#......#.......#..#........#...#..#.....#...#.......##.............#.#.......#.......##...#..................#....#.#..##.....#...#..#.....#.#.......#....#..........#.......#.....#..##.#..#........#.......#.#.#...............#..#......#........#.#..##..##....#...#.##.#...#....##...#...#..##..#.....#.......#.............#..#..#.#............#.....#.......##...##..##...............................................#.......#.##...#.....#.#......#........#....#.#..#..#.....##.......#.....##.#.#....#....##.............#...........#.##.#...........#.#..........#.....#..#....#....#.#.........#.#.........#.#.#..#.#.#................#.....#........##....#........#...#...#.#.......#......#....##........#...#..#..........#...#...........#..##.....##.................#..#.#...#.....#.............#....##.......#..........#....#.................#..#....#...............#.........#..#.#...#......#..........##........#...........#.........#..#.......#.....##.....#.#.........#.#..........#....#............#..##....#........#....#..........#.#..#.......#..#.........#..#....#.....#......#..#.............#........#.......#...#.#........#.......#....#.....##.......##........#..#...#.#..#...#.#......#...........##....#....##....##......#.......#.......#.##....#.##......#.......##..#....#..#.#.#.......#..#.###...............##....#..#.##...........#........###.#..#........#.......#....#..##....#.....#....##..........#..........#.#....#...#....#.....#..............#..#..................#......#.##..#...#.#.....#.........##.........#...........#.....#......#........#.....#.#..##......##.......#....###..#.....#..#..##..##......#.......##..#..#.........#..#.#....#.#..#..........##.#...#..#..##..#.#.#.#.....#........#.#...#..#.....###.#.........##.#.#......#........#.####.................#..#..#....#.........##..........#.......#.#....#..#.....................#........#..#...##...#.##........#....";
static int WIDTH = 31;
static int HEIGHT = 323;
static int DOWN = 1;
static int RIGHT = 3;


int y2020::day3part1() {
    int x = 0;
    int y = 0;

    int treeCount = 0;

    while (true) {
        if (y == HEIGHT - 1) {
            break;
        }

        y = (y + DOWN) % HEIGHT;
        x = (x + RIGHT) % WIDTH;

        if (in.at(y * WIDTH + x) == '#') {
            treeCount++;
        }
    }

    return treeCount;
}

long y2020::day3part2() {
    DOWN = 1;
    RIGHT = 1;
    long v = y2020::day3part1();
    DOWN = 1;
    RIGHT = 3;
    long w = y2020::day3part1();
    DOWN = 1;
    RIGHT = 5;
    long x = y2020::day3part1();
    DOWN = 1;
    RIGHT = 7;
    long y = y2020::day3part1();
    DOWN = 2;
    RIGHT = 1;
    long z = y2020::day3part1();
    return v * w * x * y * z;
}